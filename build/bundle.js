(()=>{"use strict";const i=class{curslide=0;prevSlide;transitionTime=1e3;transitionStyle="ease-in-out";transitionTypeRight;transitionTypeLeft;transformQuickType;loopTime;intervId=[];timeOutId=[];auto=!0;direction="right";slides;hid=!1;constructor(i){this.options=i,this.initilize(),this.createNextPrevBut(),this.auto&&(this.showSlide(),this.vis())}initilize(){let{el:i,loopTime:t,direction:s,slideClass:e,transitionTime:l,transitionStyle:r}=this.options;if(!i)throw Error("The el does not exist");if(t){if(!Number.isInteger(t)||t<500)throw Error("The time duration is not a number more than 500ms");this.loopTime=t}else this.auto=!1;if("right"==s||"left"==s)this.direction=s;else if(null!=s)throw Error("The direction is not correct");if(l>=100&&l<=1e4)this.transitionTime=l;else if(null!=l)throw Error("The transitionTime is not correct (ms from 100 to 1000)");if(-1!=["ease-in","ease-in-out","ease-out","linear"].indexOf(r))this.transitionStyle=r;else if(null!=r)throw Error("The transitionStyle is not correct");this.slides=i.querySelectorAll(`.${e}`);const[h,...o]=this.slides;o.forEach((i=>i.classList.add("right"==s?"left":"right"))),this.transition=`right ${this.transitionTime}ms ${this.transitionStyle}`,this.transitionTypeLeft=`left ${this.transitionTime}ms ${this.transitionStyle}`,this.transformQuickType=`right 0.2s ${this.transitionStyle}`}createNextPrevBut(){const{el:i,rightNavIcon:t="⪼",leftNavIcon:s="⪻"}=this.options;i.insertAdjacentHTML("beforeend",`<i class="slide-nav right">${t}</i>\n        <i class="slide-nav left">${s}</i>`);let e=i.querySelector(".slide-nav.left");i.querySelector(".slide-nav.right").addEventListener("click",(()=>{if(0==this.slides[this.curslide].offsetLeft&&(this.clearTimeoutInterval(),this.rightInit(),this.setCurPrevSlides(),requestAnimationFrame((()=>this.goToRight())),this.auto)){const i=setTimeout((()=>{this.timeOutId.forEach((i=>clearTimeout(i))),this.showSlide()}),this.transitionTime);this.timeOutId.push(i)}})),e.addEventListener("click",(()=>{if(0==this.slides[this.curslide].offsetLeft&&(this.clearTimeoutInterval(),this.leftInit(),this.setCurPrevSlidesToLeft(),requestAnimationFrame((()=>this.goToLeft())),this.auto)){let i=setTimeout((()=>{this.timeOutId.forEach((i=>clearTimeout(i))),this.showSlide()}),this.transitionTime);this.timeOutId.push(i)}}))}showSlide(){let i;this.clearTimeoutInterval(),i="right"==this.direction?this.requestInterval((()=>{this.rightInit(),this.setCurPrevSlides(),this.goToRight()}),this.loopTime):this.requestInterval((()=>{this.leftInit(),this.setCurPrevSlidesToLeft(),this.goToLeft()}),this.loopTime)}requestInterval(i,t){let s=window.requestAnimationFrame||function(i){window.setTimeout(i,1e3/60)},e=(new Date).getTime(),l={},r=()=>{l.value=s(r),this.intervId.push(l.value);let h=(new Date).getTime()-e;1==this.hid&&h>=t/2?(this.hid=!1,i.call(),e=(new Date).getTime()):h>=t&&(i.call(),e=(new Date).getTime())};return l.value=s(r),this.intervId.push(l.value),l}vis(){let i,t;void 0!==document.hidden?(i="hidden",t="visibilitychange"):void 0!==document.msHidden?(i="msHidden",t="msvisibilitychange"):void 0!==document.webkitHidden&&(i="webkitHidden",t="webkitvisibilitychange");void 0===document.addEventListener||void 0===i?console.log("This demo requires a browser, such as Google Chrome or Firefox, that supports the Page Visibility API."):document.addEventListener(t,(()=>{document[i]?(this.clearTimeoutInterval(),this.hid=!0):this.showSlide()}),!1)}leftInit(){this.slides.forEach((i=>{this.slides[this.curslide]!=i&&(0!=this.slides[this.curslide].style.right&&this.slides[this.prevSlide]==i||(i.style.transition="unset",i.classList.add("right"),i.classList.remove("active-slide"),i.classList.remove("prev-slide"),i.classList.remove("left")))}))}rightInit(){this.slides.forEach((i=>{this.slides[this.curslide]!=i&&(0!=this.slides[this.curslide].style.right&&this.slides[this.prevSlide]==i||(i.style.transition="unset",i.classList.add("left"),i.classList.remove("active-slide"),i.classList.remove("prev-slide"),i.classList.remove("right")))}))}goToRight(){this.slides[this.curslide].classList.remove("right"),this.slides[this.curslide].classList.remove("left"),this.slides[this.curslide].classList.add("active-slide"),this.slides[this.curslide].style.transition=this.transition,this.slides[this.prevSlide].style.transition=this.transition,this.slides[this.prevSlide].classList.remove("active-slide"),this.slides[this.prevSlide].classList.add("left"),this.slides[this.prevSlide].classList.add("prev-slide"),this.slides[this.prevSlide].classList.add("right")}goToLeft(){this.slides[this.curslide].classList.remove("prev-slide"),this.slides[this.curslide].classList.remove("right"),this.slides[this.curslide].classList.add("left"),this.slides[this.curslide].classList.add("active-slide"),this.slides[this.curslide].style.transition=this.transition,this.slides[this.prevSlide].style.transition=this.transition,this.slides[this.prevSlide].classList.remove("active-slide"),this.slides[this.prevSlide].classList.add("prev-slide"),this.slides[this.prevSlide].classList.add("left")}clearTimeoutInterval(){this.intervId.forEach((i=>cancelAnimationFrame(i))),this.intervId=[],this.timeOutId.forEach((i=>clearTimeout(i))),this.timeOutId=[]}setCurPrevSlides(){this.prevSlide=this.curslide,this.curslide++,this.curslide>this.slides.length-1&&(this.curslide=0)}setCurPrevSlidesToLeft(){this.prevSlide=this.curslide,this.curslide--,this.curslide<0&&(this.curslide=this.slides.length-1)}};new i({el:document.querySelector("#slider1"),slideClass:"slide",loopTime:6e3,direction:"right",rightNavIcon:"&#10095;",leftNavIcon:"&#10094;",transitionTime:1e3,transitionStyle:"ease-in-out"}),new i({el:document.querySelector("#slider2"),slideClass:"slide",loopTime:4e3,direction:"right",rightNavIcon:"⪼",leftNavIcon:"⪻",transitionTime:500,transitionStyle:"ease-in-out"})})();